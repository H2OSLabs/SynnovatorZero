# 活动管理

> **格式约定：** 每条用例仅描述「场景」与「预期结果」，不包含测试方法和执行过程。

---

## 21.1 活动创建

**TC-CATMGMT-001：发起常规赛道活动（X 类型）**
组织者创建 competition 类型活动，设置活动名称、描述、开始/结束时间和奖励信息，活动创建为 draft 状态。

**TC-CATMGMT-002：发起企业命题活动（Y 类型）**
企业方创建命题活动，上传个人文件（resource）作为参赛命题，参赛者可在活动页面查看命题文件。

**TC-CATMGMT-003：发起悬赏组队活动（Y 类型）**
悬赏人创建悬赏活动，上传文件作为悬赏命题描述，参赛者可查看并承接悬赏。

**TC-CATMGMT-004：创建运营活动**
组织者创建 operation 类型活动，用于运营任务（如签到、问卷等），可与其他活动绑定。

## 21.2 活动说明与规则

**TC-CATMGMT-010：编写活动说明**
组织者编辑活动的 Markdown 正文，详细描述活动的背景、目标、开始/结束时间和奖励。

**TC-CATMGMT-011：设定活动规则 — 时间限制**
组织者创建 Rule 并关联到活动，设置 submission_start 和 submission_deadline。

**TC-CATMGMT-012：设定活动规则 — 团队要求**
组织者在 Rule 中设置 min_team_size 和 max_team_size，限制参赛团队人数。

**TC-CATMGMT-013：设定活动规则 — 提交要求**
组织者在 Rule 中设置 max_submissions 和 submission_format，限制提交次数和格式。

**TC-CATMGMT-014：设定活动规则 — 内容审核**
组织者在 Rule 中设置 allow_public=false 和 require_review=true，要求提交内容需审核。

**TC-CATMGMT-015：设定评分标准**
组织者在 Rule 中配置 scoring_criteria，定义评分维度（创新性、技术实现等）及其权重。

## 21.3 活动状态管理

**TC-CATMGMT-020：发布活动 — draft 到 published**
组织者将 draft 状态的活动发布为 published，活动对所有用户可见。

**TC-CATMGMT-021：关闭活动 — published 到 closed**
组织者在活动结束后将状态更新为 closed，活动进入终态不可逆转。

**TC-CATMGMT-022：修改已发布活动需创建新版本**
组织者需要修改已发布活动的核心内容时，系统要求创建新版本（新活动，draft 状态）。

## 21.4 审核人员管理

**TC-CATMGMT-030：设置活动审核人员**
组织者在 Rule 中配置 reviewers 列表，指定哪些用户拥有对该活动提交内容的审核权限。

**TC-CATMGMT-031：审核人员审核提交内容**
具有审核权限的用户可以查看 pending_review 状态的帖子，并批准或驳回。

**TC-CATMGMT-032：评委对参赛内容打分**
具有评委身份的用户可以对 proposal 类型帖子进行多维度评分（创建 rating interaction）。

## 21.5 报名信息配置

**TC-CATMGMT-050：组织者配置报名表单字段**
组织者在活动设置中自定义报名表单，添加需要参赛者填写的信息字段（如专业背景、项目经验、联系方式等）。

**TC-CATMGMT-051：配置必填与选填字段**
组织者为每个自定义字段设置必填或选填属性，必填字段在用户报名时强制填写。

**TC-CATMGMT-052：配置字段类型**
组织者为自定义字段选择类型（单行文本、多行文本、单选、多选、日期、文件上传等），系统按类型渲染表单控件。

**TC-CATMGMT-053：报名时用户填写自定义字段**
用户报名活动时，系统展示组织者配置的自定义表单，用户填写后数据与报名记录关联保存。

**TC-CATMGMT-054：预览报名表单**
组织者在配置报名表单后可预览表单效果，确认字段顺序和展示样式。

## 21.6 活动关联

**TC-CATMGMT-042：一个提案参加多个关联活动**
参赛者将同一提案投递至多个互相关联的活动，系统允许并分别创建 category:post 关系。

## 21.7 负向/边界

**TC-CATMGMT-901：closed 状态活动不可修改**
尝试修改已 closed 状态的活动，系统拒绝状态变更。

**TC-CATMGMT-903：活动结束时间早于开始时间被拒绝**
组织者设置 end_date 早于 start_date，系统拒绝保存。

**TC-CATMGMT-904：报名时必填字段缺失被拒绝**
用户报名活动时未填写组织者设置的必填字段，系统拒绝报名并提示缺失字段。
