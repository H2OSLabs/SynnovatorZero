# UI 交互测试

> **格式约定：** 每条用例仅描述「场景」与「预期结果」，不包含测试方法和执行过程。
>
> **给产品经理的说明：** 本文档定义前端 UI 交互的测试用例。AI 代码生成器会读取这些用例来实现对应的交互逻辑。请按照模板格式补充缺失的测试用例。

---

## 测试用例编写指南

### 为什么需要这些测试用例？

在之前的开发流程中，我们发现：
- UX 规格文档（`specs/ux/`）定义了交互逻辑
- 但代码生成时缺少「验证标准」
- 导致生成的 UI 只有视觉效果，缺少点击响应

**测试用例是 AI 的「验收标准」**——有了明确的测试用例，AI 才知道：
1. 哪些元素需要可点击
2. 点击后应该发生什么
3. 如何验证功能是否正确实现

### 测试用例格式模板

```markdown
**TC-UI-{模块}-{编号}: {简短标题}**
{用户操作}。{预期结果}。

可选补充：
- 前置条件：...
- 边界情况：...
```

### 好的测试用例示例

| 类型 | 好的写法 ✅ | 不好的写法 ❌ |
|------|------------|--------------|
| 导航 | 点击 "找队友" Tab，页面跳转到 `/posts?tag=find-teammate` | Tab 应该能跳转（没说跳到哪里） |
| 交互 | 点击帖子卡片的点赞按钮，点赞数 +1，按钮变为红色填充状态 | 点赞功能正常（没说具体表现） |
| 筛选 | 在提案列表点击 "最新" 排序，URL 变为 `?sort=new`，列表按 created_at 降序 | 排序功能正常（没说排序依据） |
| 表单 | 在搜索框输入 "AI" 并回车，页面跳转到 `/search?q=AI` | 搜索能用（没说触发方式和结果） |

### 关键要素检查清单

写测试用例时，请确保包含：

- [ ] **触发方式**：点击/输入/回车/选择下拉项
- [ ] **触发元素**：哪个按钮/输入框/标签
- [ ] **预期结果**：跳转到哪个 URL / 数据如何变化 / UI 如何更新
- [ ] **状态变化**（如有）：按钮高亮/计数变化/列表刷新

---

## 18.1 全局导航（Header）

> **已有测试覆盖：** 无
> **需要补充：** 全部

**TC-UI-NAV-001: Logo 点击返回首页**
在任意页面点击顶部 "协创者" Logo。页面跳转到首页 `/`。

**TC-UI-NAV-002: 搜索框提交**
在搜索框输入关键词 "AI 创新" 并按回车键。页面跳转到 `/search?q=AI创新`。

**TC-UI-NAV-003: 发布按钮点击**
点击顶部 "发布新内容" 按钮。展开发布菜单面板，显示「找队友」「找点子」「发布提案」等选项。

**TC-UI-NAV-004: 通知按钮点击**
点击顶部通知铃铛图标。展开通知面板，显示最近通知列表。

**TC-UI-NAV-005: 用户头像下拉菜单**
点击顶部用户头像。展开下拉菜单，显示「个人主页」「我的资产」「设置」「退出登录」选项。

**TC-UI-NAV-006: 用户菜单-个人主页**
在用户下拉菜单中点击 "个人主页"。页面跳转到 `/users/{当前用户ID}`。

**TC-UI-NAV-007: 用户菜单-我的资产**
在用户下拉菜单中点击 "我的资产"。页面跳转到 `/assets`。

---

## 18.2 侧边栏导航（Sidebar）

> **已有测试覆盖：** 无
> **需要补充：** 全部

**TC-UI-SIDEBAR-001: 探索导航**
点击侧边栏 "探索" 图标/文字。页面跳转到首页 `/`，该导航项高亮显示。

**TC-UI-SIDEBAR-002: 星球导航**
点击侧边栏 "星球" 图标/文字。页面跳转到 `/categories`，该导航项高亮显示。

**TC-UI-SIDEBAR-003: 营地导航**
点击侧边栏 "营地" 图标/文字。页面跳转到 `/groups`，该导航项高亮显示。

---

## 18.3 首页 Tab 导航

> **已有测试覆盖：** TC-JOUR-002 提到"支持按 tag/type 筛选"，但未具体定义交互
> **需要补充：** Tab 点击行为

**TC-UI-TAB-001: 热门 Tab 点击**
在首页点击 "热门" Tab。页面保持在首页 `/`，该 Tab 高亮为激活状态。

**TC-UI-TAB-002: 提案广场 Tab 点击**
在首页点击 "提案广场" Tab。页面跳转到 `/proposals`。

**TC-UI-TAB-003: 找队友 Tab 点击**
在首页点击 "找队友" Tab。页面跳转到 `/posts?tag=find-teammate`。

**TC-UI-TAB-004: 找点子 Tab 点击**
在首页点击 "找点子" Tab。页面跳转到 `/posts?tag=find-idea`。

**TC-UI-TAB-005: 资源 Tab 点击**
在首页点击 "资源" Tab。页面跳转到 `/assets`。

**TC-UI-TAB-006: 官方 Tab 点击**
在首页点击 "官方" Tab。页面跳转到 `/profile` 或显示官方内容。

---

## 18.4 首页快捷入口（右侧边栏）

> **需要补充：** 全部

**TC-UI-QUICK-001: 找队友快捷入口**
在首页右侧边栏点击 "找队友" 卡片/按钮。页面跳转到 `/posts?tag=find-teammate`。

**TC-UI-QUICK-002: 找点子快捷入口**
在首页右侧边栏点击 "找点子" 卡片/按钮。页面跳转到 `/posts?tag=find-idea`。

**TC-UI-QUICK-003: 发布提案快捷入口**
在首页右侧边栏点击 "发布提案" 按钮。页面跳转到 `/posts/create?type=for_category`。

---

## 18.5 提案列表筛选

> **需要补充：** 排序和筛选交互

**TC-UI-FILTER-001: 热门排序**
在提案列表页 `/proposals` 点击 "热门" 排序按钮。URL 变为 `/proposals?sort=hot`，列表按 like_count 降序显示，"热门" 按钮高亮。

**TC-UI-FILTER-002: 最新排序**
在提案列表页点击 "最新" 排序按钮。URL 变为 `/proposals?sort=new`，列表按 created_at 降序显示，"最新" 按钮高亮。

**TC-UI-FILTER-003: 状态筛选-已发布**
在提案列表页的状态下拉框中选择 "已发布"。URL 变为 `/proposals?status=published`，列表仅显示 status=published 的提案。

**TC-UI-FILTER-004: 状态筛选-全部状态**
在提案列表页的状态下拉框中选择 "全部状态"。URL 中 status 参数被移除，列表显示所有状态的提案。

**TC-UI-FILTER-005: 活动筛选**
在提案列表页的活动下拉框中选择某个活动（如 "AI 创新大赛"）。URL 变为 `/proposals?category_id=123`，列表仅显示该活动下的提案。

---

## 18.6 卡片点击与交互

> **需要补充：** 卡片的点击和内部交互

**TC-UI-CARD-001: 帖子卡片点击跳转**
在任意列表页点击帖子卡片区域。页面跳转到 `/posts/{帖子ID}`。

**TC-UI-CARD-002: 提案卡片点击跳转**
在提案列表页点击提案卡片区域。页面跳转到 `/proposals/{提案ID}`。

**TC-UI-CARD-003: 活动卡片点击跳转**
在首页点击活动横幅卡片。页面跳转到 `/categories/{活动ID}`。

**TC-UI-CARD-004: 用户卡片点击跳转**
在关注列表页点击用户卡片区域。页面跳转到 `/users/{用户ID}`。

**TC-UI-CARD-005: 卡片点赞按钮**
在帖子卡片上点击点赞按钮（非卡片整体）。点赞数 +1，按钮变为红色/填充状态，卡片不跳转。

**TC-UI-CARD-006: 卡片取消点赞**
在已点赞的帖子卡片上再次点击点赞按钮。点赞数 -1，按钮恢复为空心状态。

---

## 18.7 详情页交互

> **需要补充：** 详情页内部交互

**TC-UI-DETAIL-001: 作者头像点击**
在帖子详情页点击作者头像或用户名。页面跳转到 `/users/{作者ID}`。

**TC-UI-DETAIL-002: 详情页点赞**
在帖子详情页点击点赞按钮。点赞数 +1，按钮变为红色填充状态。

**TC-UI-DETAIL-003: 详情页取消点赞**
在已点赞的帖子详情页再次点击点赞按钮。点赞数 -1，按钮恢复为空心状态。

**TC-UI-DETAIL-004: 分享按钮复制链接**
在帖子详情页点击分享按钮。当前页面 URL 复制到剪贴板，显示 "链接已复制" 提示。

**TC-UI-DETAIL-005: 更多菜单-编辑**
在自己的帖子详情页点击更多按钮，选择 "编辑"。页面跳转到 `/posts/{帖子ID}/edit`。

**TC-UI-DETAIL-006: 更多菜单-举报**
在帖子详情页点击更多按钮，选择 "举报"。弹出举报对话框。

**TC-UI-DETAIL-007: 标签点击筛选**
在帖子详情页点击某个标签（如 "AI"）。页面跳转到 `/posts?tag=AI`。

**TC-UI-DETAIL-008: 热点榜单项点击**
在右侧热点榜单点击某条热点。页面跳转到对应帖子详情页 `/posts/{帖子ID}`。

---

## 18.8 评论交互

> **已有测试覆盖：** TC-JOUR-013 提到"发表评论"
> **需要补充：** 具体 UI 交互

**TC-UI-COMMENT-001: 发表评论**
在评论输入框输入内容，点击 "发送" 按钮或按回车键。评论出现在评论列表顶部，输入框清空，评论计数 +1。

**TC-UI-COMMENT-002: 空评论提交**
在评论输入框为空时点击 "发送" 按钮。不发送请求，输入框获得焦点或显示提示。

**TC-UI-COMMENT-003: 评论者头像点击**
在评论列表点击评论者头像。页面跳转到 `/users/{评论者ID}`。

---

## 18.9 用户主页交互

> **需要补充：** 全部

**TC-UI-PROFILE-001: 关注按钮**
在他人主页点击 "关注" 按钮。按钮变为 "取消关注"，粉丝数 +1。

**TC-UI-PROFILE-002: 取消关注按钮**
在已关注用户的主页点击 "取消关注" 按钮。按钮变为 "关注"，粉丝数 -1。

**TC-UI-PROFILE-003: 关注数点击**
在用户主页点击关注数字区域。页面跳转到 `/users/{用户ID}/following`。

**TC-UI-PROFILE-004: 粉丝数点击**
在用户主页点击粉丝数字区域。页面跳转到 `/users/{用户ID}/followers`。

**TC-UI-PROFILE-005: 资产卡片点击**
在用户主页点击资产区域的卡片。页面跳转到 `/assets`。

**TC-UI-PROFILE-006: 作品 Tab 切换**
在用户主页点击 "帖子"/"提案"/"收藏" Tab。对应内容区域显示，Tab 高亮切换。

---

## 18.10 团队页面交互

> **需要补充：** 全部

**TC-UI-TEAM-001: 管理面板按钮**
在自己的团队页面点击 "管理面板" 按钮。页面跳转到 `/groups/{团队ID}/manage`。

**TC-UI-TEAM-002: 成员头像点击**
在团队页面点击某个成员头像。页面跳转到 `/users/{成员ID}`。

**TC-UI-TEAM-003: 添加成员按钮**
在团队页面点击 "+" 添加成员按钮。弹出邀请成员对话框。

**TC-UI-TEAM-004: 团队作品 Tab 切换**
在团队页面点击 "提案"/"帖子"/"收藏" Tab。对应内容区域显示，Tab 高亮切换。

---

## 18.11 活动详情页交互

> **需要补充：** 全部

**TC-UI-CATEGORY-001: 提交提案按钮**
在活动详情页点击 "提交提案" 按钮。页面跳转到 `/posts/create?category_id={活动ID}&type=for_category`。

**TC-UI-CATEGORY-002: 活动 Tab 切换**
在活动详情页点击 "详情"/"排榜"/"讨论区"/"成员" 等 Tab。对应内容区域显示。

**TC-UI-CATEGORY-003: 参赛帖子点击**
在活动详情页的帖子列表点击某个帖子。页面跳转到 `/posts/{帖子ID}`。

**TC-UI-CATEGORY-004: 参赛团队点击**
在活动详情页的团队列表点击某个团队。页面跳转到 `/groups/{团队ID}`。

---

## 18.12 资产页面交互

> **需要补充：** 全部

**TC-UI-ASSET-001: 资产类型筛选**
在资产页面点击 "全部"/"图片"/"文件" 分类卡片。列表按类型筛选显示，当前分类卡片高亮。

**TC-UI-ASSET-002: 资源下载**
在资产卡片上点击下载按钮。触发文件下载或在新标签页打开资源 URL。

---

## 待产品经理补充的测试用例

以下场景需要产品经理确认预期行为后补充测试用例：

| 编号 | 场景 | 需要确认的问题 |
|------|------|---------------|
| TC-UI-NAV-??? | 搜索框建议 | 输入时是否显示搜索建议？建议来源是什么？ |
| TC-UI-NAV-??? | 通知已读 | 点击通知后是否标记为已读？ |
| TC-UI-CARD-??? | 卡片悬停 | 鼠标悬停卡片时是否有放大/阴影效果？ |
| TC-UI-DETAIL-??? | 图片灯箱 | 点击帖子内图片是否放大显示？ |
| TC-UI-DETAIL-??? | 回复评论 | 是否支持回复某条评论？UI 如何展示？ |
| TC-UI-FILTER-??? | 多条件筛选 | 状态+活动同时筛选时，URL 如何组合？ |
| TC-UI-TEAM-??? | 退出团队 | 成员如何退出团队？确认对话框内容？ |
| TC-UI-CATEGORY-??? | 报名活动 | 团队如何报名活动？按钮文案和流程？ |

---

## 附录：测试用例编写模板

### 模板 A：导航类

```markdown
**TC-UI-{模块}-{编号}: {元素}点击跳转**
在{页面位置}点击 "{元素名称}"。页面跳转到 `{目标URL}`。
```

### 模板 B：筛选/排序类

```markdown
**TC-UI-{模块}-{编号}: {筛选条件}筛选**
在{页面}的{筛选组件}中选择 "{选项}"。URL 变为 `{新URL}`，列表{筛选/排序规则}，{选项}显示为选中状态。
```

### 模板 C：交互类（点赞/关注）

```markdown
**TC-UI-{模块}-{编号}: {操作名称}**
在{页面位置}点击 "{按钮名称}" 按钮。{计数器}变化 {+1/-1}，按钮样式变为 {新样式}。
```

### 模板 D：表单类

```markdown
**TC-UI-{模块}-{编号}: {表单名称}提交**
在{输入框}输入{内容}，{触发方式}。{预期结果}，{UI 变化}。
```

---

## 变更记录

| 日期 | 版本 | 变更内容 |
|------|------|----------|
| 2025-02-02 | v1.0 | 初始版本，基于 UX 交互审计创建 |
